{% extends 'base.html' %}

{% block head %}
  {{ super() }}
  <link rel="stylesheet" href="{{ url_for('static', filename='style/booking.css') }}">
{% endblock %}

{% block content %}
<main>
  <div class="container-fluid mt-5">
    <h2>My Bookings</h2>
    <div class="row">
      {% if orders %}
        {% for order in orders %}
        <div class="col-sm-12 col-md-6 col-lg-4 mb-4">
          <a href="{{ url_for('main.booking_detail', order_id=order.id) }}"
             class="text-decoration-none text-dark">
            <div class="card rounded-4 overflow-hidden mb-3">
              <div class="position-relative bg-light" style="height: 300px;">
                <img src="{{ order.event.image_url }}"
                     class="w-100 h-100 object-fit-cover"
                     alt="Event Image">
                <div class="event-name position-absolute top-50 start-50 translate-middle text-center fw-bold fs-4">
                  {{ order.event.name }}
                </div>
              </div>
              <div class="card-body">
                <!-- ðŸ”¥ Added Order ID & Total Price only -->
                <p class="mb-1"><strong>Order ID:</strong> {{ order.id }}</p>
                <p class="mb-1"><strong>Date:</strong>
                  {{ order.event.date_time.strftime('%d %b %Y, %H:%M') }}
                </p>
                <p class="mb-1"><strong>Quantity:</strong> {{ order.quantity }}</p>
                <p class="mb-0"><strong>Total Price:</strong>
                  ${{ '%.2f'|format(order.total_price) }}
                </p>
              </div>
            </div>
          </a>
        </div>
        {% endfor %}
      {% else %}
        <div class="col-12">
          <div class="alert alert-info">You have no active bookings.</div>
        </div>
      {% endif %}
    </div>
  </div>
</main>
{% endblock %}